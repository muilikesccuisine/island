server:
  port: 9006

spring:
  config:
    import: nacos:${spring.application.name}.${spring.cloud.nacos.config.file-extension}
  application:
    name: task
  cloud:
    nacos:
      username: nacos
      password: nacos
      discovery:
        server-addr: 192.168.64.128:8848
      config:
        server-addr: 192.168.64.128:8848
        file-extension: yaml

  # R2DBC 数据库配置
  r2dbc:
    url: r2dbc:mysql://localhost:3306/island_task?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
    username: root
    password: your_password_here # 修改为你的密码
    pool:
      initial-size: 5
      max-size: 20

  # 初始化 SQL 脚本 (可选，自动建表)
  sql:
    init:
      mode: always # 每次启动都尝试运行 schema.sql，生产环境请改为 never
      schema-locations: classpath:schema.sql

logging:
  level:
    # 打开 R2DBC 的 SQL 日志，方便调试
    org.springframework.r2dbc: debug